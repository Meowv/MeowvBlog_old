(function(a){a.fn.extend({yx_rotaion:function(k){k=a.extend({during:2E3,btn:!0,focus:!0,title:!0,auto:!0},k);return this.each(function(){var d=k,c=0,e=a(this),b=e.find("li"),l=b.length;e.css({position:"relative",overflow:"hidden"});e.find("li").css({position:"absolute",left:0,top:0}).hide();b.first().show();e.append('<div class="yx-rotaion-btn"><span class="left_btn"></span><span class="right_btn"></span></div>');d.btn||a(".yx-rotaion-btn").css({visibility:"hidden"});d.title&&e.append(' <div class="yx-rotation-title"></div><a href="" class="yx-rotation-t"></a>');d.focus&&e.append('<div class="yx-rotation-focus"></div>');var g=a(".yx-rotaion-btn span"),h=a(".yx-rotation-t");a(".yx-rotation-title");var m=a(".yx-rotation-focus");if(d.auto)var n=setInterval(function(){g.last().click()},d.during);h.text(b.first().find("img").attr("alt"));h.attr("href",b.first().find("a").attr("href"));for(i=1;i<=l;i++)m.append("<span>"+i+"</span>");var f=m.children("span");f.first().addClass("hover");g.hover(function(){a(this).addClass("hover")},function(){a(this).removeClass("hover")});g.add(b).add(f).hover(function(){n&&clearInterval(n)},function(){d.auto&&(n=setInterval(function(){g.last().click()},d.during))});f.bind("mouseover",function(){var d=a(this).index();a(this).addClass("hover");m.children("span").not(a(this)).removeClass("hover");b.eq(d).fadeIn(300);b.not(b.eq(d)).fadeOut(300);h.text(b.eq(d).find("img").attr("alt"));c=d});g.bind("click",function(){1==a(this).index()?c++:c--;c>=l&&(c=0);0>c&&(c=l-1);b.eq(c).fadeIn(300);b.not(b.eq(c)).fadeOut(300);f.eq(c).addClass("hover");f.not(f.eq(c)).removeClass("hover");h.text(b.eq(c).find("img").attr("alt"));h.attr("href",b.eq(c).find("a").attr("href"))})})}})})(jQuery);